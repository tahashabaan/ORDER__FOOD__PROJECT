(this["webpackJsonpORDER-FOOD-PROJECT"]=this["webpackJsonpORDER-FOOD-PROJECT"]||[]).push([[0],[,,,function(e,t,n){e.exports={form:"CheckoutForm_form__1QA-s",control:"CheckoutForm_control__2N6rb",invalid:"CheckoutForm_invalid__B1-qk",actions:"CheckoutForm_actions__8KvzV"}},,function(e,t,n){e.exports={"cart-items":"Cart_cart-items__17sYv",total:"Cart_total__3suyf",actions:"Cart_actions__daB1X","button--alt":"Cart_button--alt__2Ha6z",button:"Cart_button__41679"}},,,function(e,t,n){e.exports={item:"CartItem_item__3XIBr",left:"CartItem_left__2odma",actions:"CartItem_actions__3rde1",button:"CartItem_button__z6a1Y"}},,,,,function(e,t,n){e.exports={backdrop:"Modal_backdrop__2xanF",modal:"Modal_modal__ZWbW7","slide-down":"Modal_slide-down__30SwU"}},function(e,t,n){e.exports={cart:"HeaderCart_cart__Iwtm0",button:"HeaderCart_button__3CTC7",icon:"HeaderCart_icon__2RAH-",badge:"HeaderCart_badge__2heCu"}},function(e,t,n){e.exports={head:"Header_head__3AY1n","main-image":"Header_main-image__3plgI"}},function(e,t,n){e.exports={meal:"MealsItem_meal__2vMPL",left:"MealsItem_left__2pUTE"}},,,,function(e,t,n){e.exports={button:"Button_button__1v4AI"}},function(e,t,n){e.exports={form:"MealsItemForm_form__1ZfO_"}},function(e,t,n){e.exports={card:"Card_card__Z_a1u"}},function(e,t,n){e.exports={list:"MealsList_list__YTLor","slide-up":"MealsList_slide-up__15bGT"}},function(e,t,n){e.exports={summary:"SummaryMeals_summary__1QdqX"}},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(19),c=n.n(a),r=n(1),o=n(6),i=n(11),s=n(4),l=n(2),u=n(10),d=Object(r.createContext)({cartItem:[],showCart:!1,onAddItem:function(e){},onRemoveItem:function(e){},onShowCart:function(){},onHideCart:function(){}}),j=n(9),m=n.n(j),b=n(13),h=n.n(b),O=n(0),f=function(e){return Object(O.jsx)("div",{className:h.a.backdrop})},x=function(e){return Object(O.jsx)("div",{className:h.a.modal,children:Object(O.jsx)("div",{className:h.a.content,children:e.children})})},p=document.getElementById("overlays"),_=function(e){return Object(O.jsxs)(r.Fragment,{children:[m.a.createPortal(Object(O.jsx)(f,{}),p),m.a.createPortal(Object(O.jsx)(x,{children:e.children}),p)]})},v=n(5),C=n.n(v),g=n(8),I=n.n(g),N=function(e){return Object(O.jsxs)("li",{className:I.a.item,children:[Object(O.jsxs)("section",{className:I.a.left,children:[Object(O.jsx)("h1",{children:e.name}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("span",{children:[e.price," $"]}),Object(O.jsxs)("button",{children:["X ",e.amount]})]})]}),Object(O.jsxs)("section",{className:I.a.actions,children:[Object(O.jsx)("button",{onClick:e.onRemove,className:I.a.button,children:"-"}),Object(O.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},y={value:"",isTouching:!0},A=function(e,t){return"INPUT_USER"===t.type?{value:t.value,isTouching:e.isTouching}:"BLUR"===t.type?{value:e.value,isTouching:!0}:"RESET"===t.type?{value:"",isTouching:!1}:void 0},k=function(e){var t=Object(r.useReducer)(A,y),n=Object(l.a)(t,2),a=n[0],c=n[1],o=e(a.value),i=a.isTouching&&!o;return{value:a.value,hasError:i,onChangeInpuValuetHandler:function(e){c({type:"INPUT_USER",value:e.target.value})},onBlurInputValueHandler:function(e){c({type:"BLUR"})},reset:function(){c({type:"RESET"})},inputIsValid:o}},H=n(3),R=n.n(H),S=function(e){var t=function(e){return""!==e},n=k(t),a=n.value,c=n.inputIsValid,r=n.hasError,o=n.onChangeInpuValuetHandler,i=n.onBlurInputValueHandler,s=n.reset,l=k(t),u=l.value,d=l.inputIsValid,j=l.hasError,m=l.onChangeInpuValuetHandler,b=l.onBlurInputValueHandler,h=l.reset,f=k((function(e){return e.includes("@")})),x=f.value,p=f.inputIsValid,_=f.hasError,v=f.onChangeInpuValuetHandler,C=f.onBlurInputValueHandler,g=f.reset,I=r?"".concat(R.a.control," ").concat(R.a.invalid):"".concat(R.a.control),N=j?"".concat(R.a.control," ").concat(R.a.invalid):"".concat(R.a.control),y=_?"".concat(R.a.control," ").concat(R.a.invalid):"".concat(R.a.control),A=c&&d&&p,H=!1;A&&(H=!0);return Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),A&&(e.onConfirm({firstName:a,lastName:u,email:x}),s(),h(),g())},className:"".concat(R.a.form," ").concat(e.className),children:[Object(O.jsxs)("div",{className:I,children:[Object(O.jsx)("label",{htmlFor:"firstName",children:"firstName"}),Object(O.jsx)("input",{type:"text",id:"firstName",value:a,onChange:o,onBlur:i})]}),Object(O.jsxs)("div",{className:N,children:[Object(O.jsx)("label",{htmlFor:"lastName",children:"lastName"}),Object(O.jsx)("input",{type:"text",id:"lastName",value:u,onChange:m,onBlur:b})]}),Object(O.jsxs)("div",{className:y,children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",value:x,onChange:v,onBlur:C})]}),Object(O.jsxs)("div",{className:R.a.actions,children:[Object(O.jsx)("button",{disabled:!H,children:"confirm"}),Object(O.jsx)("button",{type:"button",onClick:e.onClose,children:"cancel"})]})]})},w=function(e){var t=Object(r.useContext)(d),n=Object(r.useState)(!1),a=Object(l.a)(n,2),c=a[0],j=a[1],m=Object(r.useState)(!1),b=Object(l.a)(m,2),h=b[0],f=b[1],x=Object(r.useState)(!1),p=Object(l.a)(x,2),v=p[0],g=p[1],I=t.cartItem.length>0,y=function(e){t.onAddItem(Object(s.a)(Object(s.a)({},e),{},{amount:1}))},A=function(e){t.onRemoveItem(e)},k=function(){var e=Object(i.a)(Object(o.a)().mark((function e(n){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,fetch("https://react-http-399a8-default-rtdb.firebaseio.com/order.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:n,item:t.cartItem})});case 3:return a=e.sent,e.next=6,a.json();case 6:e.sent,f(!0),g(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H="".concat(t.totalAmount.toFixed(2)," $"),R=!h&&Object(O.jsxs)(u.Fragment,{children:[Object(O.jsx)("ul",{className:C.a["cart-items"],children:t.cartItem.map((function(e){return Object(O.jsx)(N,{id:e.id,name:e.name,price:e.price,amount:e.amount,onAdd:y.bind(null,e),onRemove:A.bind(null,e.id)},e.id)}))}),Object(O.jsxs)("div",{className:C.a.total,children:[Object(O.jsx)("span",{children:"totalAmount"}),Object(O.jsx)("span",{children:H})]}),Object(O.jsxs)("div",{className:C.a.actions,children:[Object(O.jsx)("button",{onClick:t.onHideCart,className:C.a[".button--alt"],children:"Close"}),I&&Object(O.jsx)("button",{className:C.a.button,onClick:function(){j(!0)},children:"Order"})]}),c&&Object(O.jsx)(S,{onConfirm:function(e){k(e)},onClose:function(){j(!1)}})]}),w=h&&!v&&Object(O.jsx)("p",{children:"loading Submiting..."}),E=v&&h&&Object(O.jsxs)(u.Fragment,{children:[Object(O.jsx)("p",{children:"sucessfuly Submiting Data"}),Object(O.jsx)("div",{className:C.a.actions,children:Object(O.jsx)("button",{onClick:t.onHideCart,className:C.a.button,children:"Close"})})]});return Object(O.jsxs)(_,{children:[R,w,E]})},E=function(){return Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(O.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},F=n(20),T=n.n(F),V=function(e){return Object(O.jsx)("button",{className:"".concat(T.a.button," \n     ").concat(e.className),type:e.type||"button",onClick:e.onClick,disabled:e.disabled,children:e.children})},B=n(14),M=n.n(B),D=n(21),P=n.n(D),U=function(e){var t=Object(r.useState)(!0),n=Object(l.a)(t,2),a=n[0],c=n[1],o=Object(r.useRef)();return Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=+o.current.value;n<1||n>5?c(!1):e.onAddToCart(n)},className:P.a.form,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"number",children:"Amount"}),Object(O.jsx)("input",{ref:o,max:"5",min:"1",type:"number",id:"number",defaultValue:"1"})]}),Object(O.jsx)("button",{children:" +Add "}),!a&&Object(O.jsx)("p",{children:"please enter valided number(1,5).."})]})},Y=function(e){var t=Object(r.useContext)(d),n=t.cartItem.reduce((function(e,t){return e+t.amount}),0);return Object(O.jsxs)(V,{className:M.a.cart,onClick:t.onShowCart,children:[Object(O.jsx)("span",{className:M.a.icon,children:Object(O.jsx)(E,{})}),Object(O.jsx)("span",{children:" Your Cart "}),Object(O.jsx)("span",{className:M.a.badge,children:n})]})},z=n(15),L=n.n(z),J=n.p+"static/media/meals.2971f633.jpg",W=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("header",{className:L.a.head,children:[Object(O.jsx)("h1",{children:"ReactMeals"}),Object(O.jsx)(Y,{})]}),Object(O.jsx)("div",{className:L.a["main-image"],children:Object(O.jsx)("img",{src:J,alt:"mealsImage"})})]})},X=n(22),q=n.n(X),Z=function(e){return Object(O.jsx)("div",{className:"".concat(q.a.card," \n    ").concat(e.className),children:e.children})},Q=n(16),$=n.n(Q),G=function(e){var t=Object(r.useContext)(d);return Object(O.jsxs)("li",{className:$.a.meal,children:[Object(O.jsxs)("section",{className:$.a.left,children:[Object(O.jsx)("h2",{children:e.name}),Object(O.jsx)("p",{children:e.description}),Object(O.jsxs)("h4",{children:[e.price," "]})]}),Object(O.jsx)("section",{children:Object(O.jsx)(U,{onAddToCart:function(n){t.onAddItem({id:e.id,name:e.name,price:e.price,amount:n})}})})]})},K=n(23),ee=n.n(K),te=function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),u=Object(l.a)(s,2),d=u[0],j=u[1],m=Object(r.useState)(null),b=Object(l.a)(m,2),h=b[0],f=b[1],x=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t,n,a,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(null),j(!0),e.next=5,fetch("https://order-food-9c059-default-rtdb.firebaseio.com/meals.json");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error(!0);case 8:return e.next=10,t.json();case 10:for(r in n=e.sent,console.log(n),a=[],n)a.push({id:r,price:n[r].price,name:n[r].name,description:n[r].description});c(a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),f("somthing Went Wrong!");case 20:j(!1);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){x()}),[]);var p=Object(O.jsx)("p",{children:"found no meals"});return a.length>0&&(p=a.map((function(e){return Object(O.jsx)(G,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)}))),d&&(p=Object(O.jsx)("p",{children:"loading..."})),h&&(p=Object(O.jsxs)("p",{children:[" ",h," "]})),console.log(a),Object(O.jsx)(Z,{className:ee.a.list,children:Object(O.jsx)("ul",{children:p})})},ne=n(24),ae=n.n(ne),ce=function(){return Object(O.jsxs)(Z,{className:ae.a.summary,children:[Object(O.jsx)("h1",{children:"Delicious Food, Delivered To You"}),Object(O.jsx)("p",{children:"choose Your Favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home "}),Object(O.jsx)("p",{children:"All our meals are cooked with high-qualit ingredients, just-in-time and of course by experienced chefs! "})]})},re=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ce,{}),Object(O.jsx)(te,{onSumbit:e.onSumbitItem,cartItem:e.cartItem})]})},oe=function(){var e=Object(r.useContext)(d);return Object(O.jsxs)(O.Fragment,{children:[e.showCart&&Object(O.jsx)(w,{}),Object(O.jsx)(W,{}),Object(O.jsx)(re,{})]})},ie=n(17),se={items:[],totalAmount:0},le=function(e,t){if("ADD"===t.type){var n,a=e.totalAmount+t.item.price*t.item.amount,c=e.items.findIndex((function(e){return e.id===t.item.id})),r=e.items[c];if(r){var o=Object(s.a)(Object(s.a)({},r),{},{amount:r.amount+t.item.amount});(n=Object(ie.a)(e.items))[c]=o}else n=e.items.concat(t.item);return{items:n,totalAmount:a}}if("REMOVE"===t.type){var i,l=e.items.findIndex((function(e){return e.id===t.id})),u=e.items[l],d=e.totalAmount-u.price;if(1===u.amount)i=e.items.filter((function(e){return e.id!==t.id}));else{var j=Object(s.a)(Object(s.a)({},u),{},{amount:u.amount-1});(i=Object(ie.a)(e.items))[l]=j}return{totalAmount:d,items:i}}return{cartValue:se}},ue=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],o=Object(r.useReducer)(le,se),i=Object(l.a)(o,2),s=i[0],u=i[1];return Object(O.jsx)(d.Provider,{value:{cartItem:s.items,totalAmount:s.totalAmount,showCart:a,onAddItem:function(e){u({type:"ADD",item:e})},onRemoveItem:function(e){u({type:"REMOVE",id:e})},onShowCart:function(){c(!0)},onHideCart:function(){c(!1)}},children:e.children})};n(32);c.a.createRoot(document.getElementById("root")).render(Object(O.jsxs)(ue,{children:[" ",Object(O.jsx)(oe,{})," "]}))}],[[33,1,2]]]);
//# sourceMappingURL=main.b0d80fbd.chunk.js.map