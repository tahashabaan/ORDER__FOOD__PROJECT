(this["webpackJsonpORDER-FOOD-PROJECT"]=this["webpackJsonpORDER-FOOD-PROJECT"]||[]).push([[0],[,,,function(e,t,n){e.exports={form:"CheckoutForm_form__3CQBC",control:"CheckoutForm_control__BdFci",invalid:"CheckoutForm_invalid__3UnVl",actions:"CheckoutForm_actions__SENgs"}},,function(e,t,n){e.exports={"cart-items":"Cart_cart-items__1FDTI",total:"Cart_total__3zUQY",actions:"Cart_actions__mo8sj","button--alt":"Cart_button--alt__3NGfs",button:"Cart_button__1cihw"}},,,function(e,t,n){e.exports={item:"CartItem_item__3thET",left:"CartItem_left__12D4g",actions:"CartItem_actions__3Ug4E",button:"CartItem_button__3m2-o"}},,,,,function(e,t,n){e.exports={backdrop:"Modal_backdrop__2hDIp",modal:"Modal_modal__1X19s","slide-down":"Modal_slide-down__3L3M3"}},function(e,t,n){e.exports={cart:"HeaderCart_cart__251Vf",button:"HeaderCart_button__4_drA",icon:"HeaderCart_icon__1S6Lc",badge:"HeaderCart_badge__2llse"}},function(e,t,n){e.exports={head:"Header_head__1Is0T","main-image":"Header_main-image__1IYVo"}},function(e,t,n){e.exports={meal:"MealsItem_meal__21onW",left:"MealsItem_left__2KZu1"}},,,,function(e,t,n){e.exports={button:"Button_button__2rKHM"}},function(e,t,n){e.exports={form:"MealsItemForm_form__2PQcD"}},function(e,t,n){e.exports={card:"Card_card__1ct7n"}},function(e,t,n){e.exports={list:"MealsList_list__2WORV","slide-up":"MealsList_slide-up__1ojcC"}},function(e,t,n){e.exports={summary:"SummaryMeals_summary__kitw3"}},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(19),a=n.n(c),r=n(1),o=n(6),s=n(11),i=n(4),l=n(2),u=n(10),d=Object(r.createContext)({cartItem:[],showCart:!1,onAddItem:function(e){},onRemoveItem:function(e){},onShowCart:function(){},onHideCart:function(){}}),j=n(9),m=n.n(j),b=n(13),h=n.n(b),O=n(0),f=function(e){return Object(O.jsx)("div",{className:h.a.backdrop})},x=function(e){return Object(O.jsx)("div",{className:h.a.modal,children:Object(O.jsx)("div",{className:h.a.content,children:e.children})})},p=document.getElementById("overlays"),_=function(e){return Object(O.jsxs)(r.Fragment,{children:[m.a.createPortal(Object(O.jsx)(f,{}),p),m.a.createPortal(Object(O.jsx)(x,{children:e.children}),p)]})},v=n(5),C=n.n(v),g=n(8),N=n.n(g),I=function(e){return Object(O.jsxs)("li",{className:N.a.item,children:[Object(O.jsxs)("section",{className:N.a.left,children:[Object(O.jsx)("h1",{children:e.name}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("span",{children:[e.price," $"]}),Object(O.jsxs)("button",{children:["X ",e.amount]})]})]}),Object(O.jsxs)("section",{className:N.a.actions,children:[Object(O.jsx)("button",{onClick:e.onRemove,className:N.a.button,children:"-"}),Object(O.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},y={value:"",isTouching:!0},E=function(e,t){return"INPUT_USER"===t.type?{value:t.value,isTouching:e.isTouching}:"BLUR"===t.type?{value:e.value,isTouching:!0}:"RESET"===t.type?{value:"",isTouching:!1}:void 0},S=function(e){var t=Object(r.useReducer)(E,y),n=Object(l.a)(t,2),c=n[0],a=n[1],o=e(c.value),s=c.isTouching&&!o;return{value:c.value,hasError:s,onChangeInpuValuetHandler:function(e){a({type:"INPUT_USER",value:e.target.value})},onBlurInputValueHandler:function(e){a({type:"BLUR"})},reset:function(){a({type:"RESET"})},inputIsValid:o}},k=n(3),A=n.n(k),R=function(e){var t=function(e){return""!==e},n=S(t),c=n.value,a=n.inputIsValid,r=n.hasError,o=n.onChangeInpuValuetHandler,s=n.onBlurInputValueHandler,i=n.reset,l=S(t),u=l.value,d=l.inputIsValid,j=l.hasError,m=l.onChangeInpuValuetHandler,b=l.onBlurInputValueHandler,h=l.reset,f=S((function(e){return e.includes("@")})),x=f.value,p=f.inputIsValid,_=f.hasError,v=f.onChangeInpuValuetHandler,C=f.onBlurInputValueHandler,g=f.reset,N=r?"".concat(A.a.control," ").concat(A.a.invalid):"".concat(A.a.control),I=j?"".concat(A.a.control," ").concat(A.a.invalid):"".concat(A.a.control),y=_?"".concat(A.a.control," ").concat(A.a.invalid):"".concat(A.a.control),E=a&&d&&p,k=!1;E&&(k=!0);return Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),E&&(e.onConfirm({firstName:c,lastName:u,email:x}),i(),h(),g())},className:"".concat(A.a.form," ").concat(e.className),children:[Object(O.jsxs)("div",{className:N,children:[Object(O.jsx)("label",{htmlFor:"firstName",children:"firstName"}),Object(O.jsx)("input",{type:"text",id:"firstName",value:c,onChange:o,onBlur:s})]}),Object(O.jsxs)("div",{className:I,children:[Object(O.jsx)("label",{htmlFor:"lastName",children:"lastName"}),Object(O.jsx)("input",{type:"text",id:"lastName",value:u,onChange:m,onBlur:b})]}),Object(O.jsxs)("div",{className:y,children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",value:x,onChange:v,onBlur:C})]}),Object(O.jsxs)("div",{className:A.a.actions,children:[Object(O.jsx)("button",{disabled:!k,children:"confirm"}),Object(O.jsx)("button",{type:"button",onClick:e.onClose,children:"cancel"})]})]})},w=function(e){var t=Object(r.useContext)(d),n=Object(r.useState)(!1),c=Object(l.a)(n,2),a=c[0],j=c[1],m=Object(r.useState)(!1),b=Object(l.a)(m,2),h=b[0],f=b[1],x=Object(r.useState)(!1),p=Object(l.a)(x,2),v=p[0],g=p[1],N=t.cartItem.length>0,y=function(e){t.onAddItem(Object(i.a)(Object(i.a)({},e),{},{amount:1}))},E=function(e){t.onRemoveItem(e)},S=function(){var e=Object(s.a)(Object(o.a)().mark((function e(n){var c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,fetch("https://react-http-399a8-default-rtdb.firebaseio.com/order.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:n,item:t.cartItem})});case 3:return c=e.sent,e.next=6,c.json();case 6:e.sent,f(!0),g(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k="".concat(t.totalAmount.toFixed(2)," $"),A=!h&&Object(O.jsxs)(u.Fragment,{children:[Object(O.jsx)("ul",{className:C.a["cart-items"],children:t.cartItem.map((function(e){return Object(O.jsx)(I,{id:e.id,name:e.name,price:e.price,amount:e.amount,onAdd:y.bind(null,e),onRemove:E.bind(null,e.id)},e.id)}))}),Object(O.jsxs)("div",{className:C.a.total,children:[Object(O.jsx)("span",{children:"totalAmount"}),Object(O.jsx)("span",{children:k})]}),Object(O.jsxs)("div",{className:C.a.actions,children:[Object(O.jsx)("button",{onClick:t.onHideCart,className:C.a[".button--alt"],children:"Close"}),N&&Object(O.jsx)("button",{className:C.a.button,onClick:function(){j(!0)},children:"Order"})]}),a&&Object(O.jsx)(R,{onConfirm:function(e){S(e)},onClose:function(){j(!1)}})]}),w=h&&!v&&Object(O.jsx)("p",{children:"loading Submiting..."}),H=v&&h&&Object(O.jsxs)(u.Fragment,{children:[Object(O.jsx)("p",{children:"sucessfuly Submiting Data"}),Object(O.jsx)("div",{className:C.a.actions,children:Object(O.jsx)("button",{onClick:t.onHideCart,className:C.a.button,children:" Close  "})})]});return Object(O.jsxs)(_,{children:[A,w,H]})},H=function(){return Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(O.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},F=n(20),T=n.n(F),V=function(e){return Object(O.jsx)("button",{className:"".concat(T.a.button," \n     ").concat(e.className),type:e.type||"button",onClick:e.onClick,disabled:e.disabled,children:e.children})},D=n(14),M=n.n(D),B=n(21),P=n.n(B),U=function(e){var t=Object(r.useState)(!0),n=Object(l.a)(t,2),c=n[0],a=n[1],o=Object(r.useRef)();return Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=+o.current.value;n<1||n>5?a(!1):e.onAddToCart(n)},className:P.a.form,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"number",children:"Amount"}),Object(O.jsx)("input",{ref:o,max:"5",min:"1",type:"number",id:"number",defaultValue:"1"})]}),Object(O.jsx)("button",{children:" +Add "}),!c&&Object(O.jsx)("p",{children:"please enter valided number(1,5).."})]})},L=function(e){var t=Object(r.useContext)(d),n=t.cartItem.reduce((function(e,t){return e+t.amount}),0);return Object(O.jsxs)(V,{className:M.a.cart,onClick:t.onShowCart,children:[Object(O.jsx)("span",{className:M.a.icon,children:Object(O.jsx)(H,{})}),Object(O.jsx)("span",{children:" Your Cart "}),Object(O.jsx)("span",{className:M.a.badge,children:n})]})},J=n(15),Y=n.n(J),z=n.p+"static/media/meals.2971f633.jpg",W=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("header",{className:Y.a.head,children:[Object(O.jsx)("h1",{children:"ReactMeals"}),Object(O.jsx)(L,{})]}),Object(O.jsx)("div",{className:Y.a["main-image"],children:Object(O.jsx)("img",{src:z,alt:"mealsImage"})})]})},Q=n(22),K=n.n(Q),X=function(e){return Object(O.jsx)("div",{className:"".concat(K.a.card," \n    ").concat(e.className),children:e.children})},$=n(16),q=n.n($),G=function(e){var t=Object(r.useContext)(d);return Object(O.jsxs)("li",{className:q.a.meal,children:[Object(O.jsxs)("section",{className:q.a.left,children:[Object(O.jsx)("h2",{children:e.name}),Object(O.jsx)("p",{children:e.description}),Object(O.jsxs)("h4",{children:[e.price," "]})]}),Object(O.jsx)("section",{children:Object(O.jsx)(U,{onAddToCart:function(n){t.onAddItem({id:e.id,name:e.name,price:e.price,amount:n})}})})]})},Z=n(23),ee=n.n(Z),te=function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(!1),u=Object(l.a)(i,2),d=u[0],j=u[1],m=Object(r.useState)(null),b=Object(l.a)(m,2),h=b[0],f=b[1],x=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t,n,c,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://order-food-9c059-default-rtdb.firebaseio.com/meals.json",e.prev=1,f(null),j(!0),e.next=6,fetch("https://order-food-9c059-default-rtdb.firebaseio.com/meals.json");case 6:if(t=e.sent,console.log(t),t.ok){e.next=10;break}throw new Error(!0);case 10:return e.next=12,t.json();case 12:for(r in n=e.sent,console.log(n),c=[],n)c.push({id:r,price:n[r].price,name:n[r].name,description:n[r].description});a(c),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),f("somthing Went Wrong!");case 22:j(!1);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){x()}),[]);var p=Object(O.jsx)("p",{children:"found no meals"});return c.length>0&&(p=c.map((function(e){return Object(O.jsx)(G,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)}))),d&&(p=Object(O.jsx)("p",{children:"loading..."})),h&&(p=Object(O.jsxs)("p",{children:[" ",h," "]})),console.log(c),Object(O.jsx)(X,{className:ee.a.list,children:Object(O.jsx)("ul",{children:p})})},ne=n(24),ce=n.n(ne),ae=function(){return Object(O.jsxs)(X,{className:ce.a.summary,children:[Object(O.jsx)("h1",{children:"Delicious Food, Delivered To You"}),Object(O.jsx)("p",{children:"choose Your Favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home "}),Object(O.jsx)("p",{children:"All our meals are cooked with high-qualit ingredients, just-in-time and of course by experienced chefs! "})]})},re=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ae,{}),Object(O.jsx)(te,{onSumbit:e.onSumbitItem,cartItem:e.cartItem})]})},oe=function(){var e=Object(r.useContext)(d);return Object(O.jsxs)(O.Fragment,{children:[e.showCart&&Object(O.jsx)(w,{}),Object(O.jsx)(W,{}),Object(O.jsx)(re,{})]})},se=n(17),ie={items:[],totalAmount:0},le=function(e,t){if("ADD"===t.type){var n,c=e.totalAmount+t.item.price*t.item.amount,a=e.items.findIndex((function(e){return e.id===t.item.id})),r=e.items[a];if(r){var o=Object(i.a)(Object(i.a)({},r),{},{amount:r.amount+t.item.amount});(n=Object(se.a)(e.items))[a]=o}else n=e.items.concat(t.item);return{items:n,totalAmount:c}}if("REMOVE"===t.type){var s,l=e.items.findIndex((function(e){return e.id===t.id})),u=e.items[l],d=e.totalAmount-u.price;if(1===u.amount)s=e.items.filter((function(e){return e.id!==t.id}));else{var j=Object(i.a)(Object(i.a)({},u),{},{amount:u.amount-1});(s=Object(se.a)(e.items))[l]=j}return{totalAmount:d,items:s}}return{cartValue:ie}},ue=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],a=n[1],o=Object(r.useReducer)(le,ie),s=Object(l.a)(o,2),i=s[0],u=s[1];return Object(O.jsx)(d.Provider,{value:{cartItem:i.items,totalAmount:i.totalAmount,showCart:c,onAddItem:function(e){u({type:"ADD",item:e})},onRemoveItem:function(e){u({type:"REMOVE",id:e})},onShowCart:function(){a(!0)},onHideCart:function(){a(!1)}},children:e.children})};n(32);a.a.createRoot(document.getElementById("root")).render(Object(O.jsxs)(ue,{children:[" ",Object(O.jsx)(oe,{})," "]}))}],[[33,1,2]]]);
//# sourceMappingURL=main.156ff282.chunk.js.map